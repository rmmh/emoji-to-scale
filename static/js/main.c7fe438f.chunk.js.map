{"version":3,"sources":["data/random.csv","data/travel.csv","data/nature.csv","data/objects.csv","getData.js","app.jsx","index.js"],"names":["isNumber","val","String","Number","async","getData","meta","dataObj","dataCombined","fetch","dataRandom","then","response","text","dataRaw","push","trim","split","splice","dataTravel","dataNature","dataObjects","fetchMultiple","reduce","acc","row","emoji","source","label","src","console","warn","key","includes","replace","terms","map","deepValue","Object","entries","sort","a","b","filter","WIDTH","parseSize","size","Math","round","App","data","dataSet","useState","scroll","scrollSet","compoundDistance","window","innerWidth","useEffect","res","document","body","style","height","length","innerHeight","requestAnimationFrame","loop","newScroll","pageYOffset","className","marginTop","href","flex","fontSize","width","relativeDistance","emojisToScale","floor","ceil","idx","floorCeilProgress","floatScale","calculatedScale","min","opacity","diff","max","left","transform","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c7fe438f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/random.bdcef4fb.csv\";","export default __webpack_public_path__ + \"static/media/travel.c5267802.csv\";","export default __webpack_public_path__ + \"static/media/nature.856f8a1b.csv\";","export default __webpack_public_path__ + \"static/media/objects.cff3debe.csv\";","import dataRandom from './data/random.csv';\nimport dataTravel from './data/travel.csv';\nimport dataNature from './data/nature.csv';\nimport dataObjects from './data/objects.csv';\n\nfunction isNumber(val) {\n  return String(Number(val)) === val;\n}\n\nasync function fetchMultiple() {\n  let dataCombined = [];\n\n  await fetch(dataRandom)\n    .then((response) => response.text())\n    .then((dataRaw) => {\n      dataCombined.push(...dataRaw.trim().split(`\\n`).splice(1));\n    });\n\n  await fetch(dataTravel)\n    .then((response) => response.text())\n    .then((dataRaw) => {\n      dataCombined.push(...dataRaw.trim().split(`\\n`).splice(1));\n    });\n\n  await fetch(dataNature)\n    .then((response) => response.text())\n    .then((dataRaw) => {\n      dataCombined.push(...dataRaw.trim().split(`\\n`).splice(1));\n    });\n\n  await fetch(dataObjects)\n    .then((response) => response.text())\n    .then((dataRaw) => {\n      dataCombined.push(...dataRaw.trim().split(`\\n`).splice(1));\n    });\n\n  return dataCombined;\n}\n\nexport async function getData() {\n  let meta = {};\n\n  const dataCombined = await fetchMultiple();\n\n  let dataObj = dataCombined.reduce((acc, row) => {\n    const [emoji, source, label, src] = row.split(`,`);\n    if (source === '?') {\n      return acc;\n    }\n\n    if (meta[emoji]) {\n      console.warn('REPEATED', emoji);\n    }\n\n    acc[emoji] = source;\n    meta[emoji] = { source, label, src };\n    return acc;\n  }, {});\n\n  for (const key in dataObj) {\n    const val = dataObj[key];\n    if (dataObj[key].includes('km')) {\n      dataObj[key] = Number(val.replace('km', '')) * 100 * 1000;\n    } else if (dataObj[key].includes('m')) {\n      dataObj[key] = Number(val.replace('m', '')) * 100;\n    } else if (isNumber(dataObj[key])) {\n      dataObj[key] = Number(val);\n    } else if (dataObj[val]) {\n      dataObj[key] = dataObj[val];\n    } else if (val.includes(`*`)) {\n      const terms = val.split(`*`).map((deepValue) => {\n        if (isNumber(deepValue)) {\n          return Number(deepValue);\n        } else if (dataObj[deepValue]) {\n          return dataObj[deepValue];\n        }\n        return deepValue;\n      });\n      dataObj[key] = terms[0] * terms[1];\n    }\n  }\n\n  return Object.entries(dataObj)\n    .sort((a, b) => {\n      return a[1] - b[1];\n    })\n    .map((emoji) => {\n      return [emoji[0], emoji[1], meta[emoji[0]].label];\n    })\n    .filter((emoji) => {\n      return emoji[1] !== '?';\n    });\n}\n","import { useEffect, useState, Fragment } from 'react';\nimport { getData } from './getData.js';\n\nconst WIDTH = 300;\n\nfunction parseSize(size) {\n  if (size < 2) {\n    return `${size * 10}mm`;\n  }\n  if (size < 100) {\n    return `${size}cm`;\n  }\n  if (size < 100 * 1000) {\n    return `${Math.round(size * 100) / 100 / 100}m`;\n  }\n  return `${Math.round(size / 100 / 10) / 100}km`;\n}\n\nfunction App() {\n  const [data, dataSet] = useState([]);\n  const [scroll, scrollSet] = useState(0);\n\n  let compoundDistance = window.innerWidth / 2;\n\n  useEffect(() => {\n    getData().then((res) => {\n      dataSet(res);\n      document.body.style.height = `${WIDTH * res.length + window.innerHeight}px`;\n    });\n\n    function loop() {\n      const newScroll = window.pageYOffset;\n      scrollSet(newScroll);\n      window.requestAnimationFrame(loop);\n    }\n    window.requestAnimationFrame(loop);\n  }, []);\n\n  return (\n    <Fragment>\n      <div className=\"bg\" />\n\n      <div className=\"header\">\n        <div>\n          <h1>Emoji to Scale</h1>\n          <div style={{ marginTop: 8 }}>\n            <a href=\"https://github.com/javierbyte/emoji-to-scale\">+ Info</a>\n          </div>\n          <div style={{ marginTop: 8 }}>\n            <a href=\"https://twitter.com/intent/tweet?text=Visualize%20emojis%20to%20scale.%20The%20chicken%20is%20not%20bigger%20than%20the%20car%20anymore!%20%F0%9F%90%93%F0%9F%9A%97%0A%20http%3A//javier.xyz/emoji-to-scale/\">\n              + Tweet this!\n            </a>\n          </div>\n        </div>\n        <div style={{ flex: 1 }} />\n        <a href=\"https://javier.xyz/\">\n          <h1>by javierbyte</h1>\n        </a>\n      </div>\n\n      <div className=\"footer\">\n        <h2>\n          Scroll <span style={{ fontSize: 28 }}>â†“</span>\n        </h2>\n      </div>\n\n      <div className=\"emoji-display\">\n        {data.map(([emoji, size, label]) => {\n          const width = window.innerWidth;\n          let relativeDistance = compoundDistance - scroll;\n\n          if (relativeDistance < width / 2) {\n            relativeDistance =\n              relativeDistance * 0.25 + (0.75 * (relativeDistance + width * 0.5)) / 2;\n          }\n\n          compoundDistance += WIDTH;\n\n          if (relativeDistance < -WIDTH || relativeDistance > width) {\n            return null;\n          }\n\n          let emojisToScale = [Math.floor(scroll / WIDTH), Math.ceil(scroll / WIDTH)];\n\n          emojisToScale = emojisToScale\n            .map((idx) => {\n              if (idx < 0) return 0;\n              if (idx > data.length - 1) return data.length - 1;\n              return idx;\n            })\n            .map((idx) => data[idx]);\n\n          const floorCeilProgress = (scroll / WIDTH) % 1;\n          const floatScale =\n            floorCeilProgress * emojisToScale[1][1] + (1 - floorCeilProgress) * emojisToScale[0][1];\n\n          const calculatedScale = Math.min(size / floatScale, 1000);\n\n          let opacity = 1;\n          if (calculatedScale > 3) {\n            const diff = (calculatedScale - 3) / 8;\n            opacity = Math.max(1 - diff, 0);\n          }\n\n          return (\n            <div\n              className=\"emoji-container\"\n              style={{\n                // transform: `translatex(${relativeDistance}px)`\n                left: `${relativeDistance}px`\n              }}\n              key={emoji}\n            >\n              <div\n                className=\"emoji\"\n                style={{\n                  opacity,\n                  transform: `scale(${calculatedScale}) translateY(10%)`\n                }}\n              >\n                {emoji}\n              </div>\n              <div>{parseSize(size)}</div>\n              <div>{label}</div>\n            </div>\n          );\n        })}\n      </div>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import \"./style.css\";\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}